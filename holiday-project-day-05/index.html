<!DOCTYPE html>
<head prefix='og: http://ogp.me/ns#'>
  <meta charset='utf-8'>
  <meta content='IE=edge' http-equiv='X-UA-Compatible'>
  <meta content='width=device-width, initial-scale=1.0' name='viewport'>
  <meta content='프로젝트 5일: 문법 하이라이팅 - highlight.js' property='og:title'>
  <meta content='website' property='og:type'>
  <meta content='제주의 소프트웨어 개발자, 김대현의 개발 블로그' property='og:description'>
  <title>프로젝트 5일: 문법 하이라이팅 - highlight.js</title>
  <link href='/css/application.css' rel='stylesheet' type='text/css'>
  <link href='/css/highlight/foundation.css' rel='stylesheet' type='text/css'>
  <link href='/img/favicon.png' rel='shortcut icon'>
</head>
<body>
  <div class='container'>
    <div class='header'>
      <ul class='nav nav-pills pull-right'>
        <li>
          <a href='/'>홈</a>
        </li>
        <li>
          <a href='/articles/'>글</a>
        </li>
        <li>
          <a href='/show-your-work/'>작업</a>
        </li>
        <li>
          <a href='/about/'>소개</a>
        </li>
      </ul>
      <h3 class='logo'>hatemogi</h3>
    </div>
  </div>
  <section id='main-content'>
    <div class='container'>
      <div class='page-header'>
        <h1>
          프로젝트 5일: 문법 하이라이팅 - highlight.js
          <small>2014-05-11</small>
        </h1>
      </div>
      <p>나는 30일간의 안식휴가 중이다. 휴가 동안 개인 개발 프로젝트를 진행하고 있고, 오늘은 그 닷새째다.</p>
      
      <p>어제까지 기본적인 웹 브라우저 측과 서버 측의 테스트 환경을 구축하고 웹 패키지 매니저 <a href="http://bower.io/">bower</a>의 기본 사용법을 살펴봤다. 개인 블로그에 일지를 적다 보니, 소스코드가 아무런 색상 없이 밋밋하게 보이는 것이 눈에 걸렸다. 당장 쓰임새가 있는 주제는 아닌데, 종종 필요로 하는 주제고, 당장 이 일지에 필요하다고 여겨서, 오늘은 소스 코드에 문법 색상을 적용해서 보이는 방법을 연습해보기로 한다.</p>
      
      <p>정확한 용어는 아마도 <a href="http://en.wikipedia.org/wiki/Syntax_highlighting">문법 하이라이팅(Syntax Highlighting)</a>일테고, 텍스트 편집기나 IDE 등에서는 Color Scheme이나 Color Theme을 지정해서 보이는 문법에 따른 색상 기능이라고 보면 될 것 같다. 콩글리시로 한다면 <code>코드 컬러링</code>쯤 되려나?</p>
      
      <p>수년 전이라면, 이런 기능은 서버 측에서 처리해서 HTML로 만든 결과를 HTTP 응답에 넣는 것이 당연한 일이었던 것 같다. 자바스크립트로 만든 코드 하이라이터가 마땅히 없었을뿐더러, 웹서비스의 상식은 서버에서 많은 일을 처리하고, 클라이언트에는 HTML 텍스트만을 돌려주는 것이 기본이었으니까 말이다.</p>
      
      <p>하지만, 세상이 바뀐 지 오래라, 자바스크립트로 잘 만들어진 코드 하이라이터도 있고, 웹 브라우저의 JS 엔진 성능도 매우 뛰어나고, 사용자의 데스크톱이나 랩톱이, 웬만한 일반(commodity)서버의 성능에 뒤지지 않는데, 굳이 그걸 서버에서 처리할 필요가 없는 상황이다. (실제로, 흥미롭게도, 회사에서 우리 팀이 주로 사용하는 서버 가상머신(VM)의 CPU core 1개의 성능은, 내가 쓰는 맥북프로의 코어 1개 성능에 못 미친다. 게다가 코어 개수도 맥북프로가 훨씬 많다.)</p>
      
      <p>아무튼, 서버사이드에서 처리한다면 <a href="http://pygments.org/">Pygments</a>가 대표적이고, 클라이언트사이드에서 처리한다면 <a href="https://code.google.com/p/google-code-prettify/">google-code-prettify</a>와 <a href="http://highlightjs.org/">highlight.js</a>가 대표적이다. highlight.js는, 이름으로 예상할 수 있듯, 웹 브라우저에서뿐만 아니라 node.js 환경에서도 쓸 수 있어서, 클라이언트/서버사이드 양측 모두 사용할 수 있다.</p>
      
      <p>예전에, <a href="https://code.google.com/p/google-code-prettify/">google-code-prettify</a>를 써본 적이 있어서, 오늘은 <a href="http://highlightjs.org/">highlight.js</a>를 써보기로 한다. 딱히 google-code-prettify에 불만이 있는 것은 아니고, 단지 다른 것을 써보고자 하는 학습의욕이 들었고, node.js환경에서 쓰기 좋다는 점이 다음에 요긴하게 쓸 수 있을 것 같다는 생각이 들었기 때문이다.</p>
      
      <p>두 패키지 모두 어제 알아본 <a href="http://bower.io/">bower</a>로 설치할 수 있다.</p>
      
      <pre><code class="bash">bower install google-code-prettify --save&#x000A;bower install highlightjs --save&#x000A;</code></pre>
      
      <p>위와 같이 설치한 뒤 highlight.js를 쓰려면 <code>bower_components/highlightjs</code>에 필요한 JS 파일과 각종 컬러 씸(color theme) CSS 파일이 있으니, 마음에 드는 스타일을 적용해 쓴다.</p>
      
      <p>참고로, 아래 페이지에서 언어별, 그리고 스타일별 색상을 미리 볼 수 있다.</p>
      
      <blockquote><p><a href="http://highlightjs.org/static/test.html">http://highlightjs.org/static/test.html</a></p></blockquote>
      
      <p>스타일도 결정했다면, JS 파일과 CSS 파일을 아래와 같이 사용하고, 마지막 줄의 초기화 명령어도 넣어둔다.</p>
      
      <pre><code class="html"> &lt;link href="/bower_components/highlightjs/tomorrow.css" rel="stylesheet" type="text/css"&gt;&#x000A; &lt;script src="/bower_components/highlightjs/highlight.pack.js" type="text/javascript"&gt;&lt;/script&gt;&#x000A; &lt;script&gt;hljs.initHighlightingOnLoad();&lt;/script&gt;&#x000A;</code></pre>
      
      <p>위와 같이 쓰면, HTML 문서 본문에 있는 <code>pre</code> 태그와 <code>code</code> 태그를 모두 찾아서, 자동으로 인식한 언어 문법으로 하이라이트 처리를 해준다. 언어를 명시하고 싶다면, <code>class</code> 속성에 <code>lang-json</code> 등을 지정하면 된다.</p>
      
      <pre><code class="html"> &lt;pre class="lang-json"&gt;&#x000A;   {&#x000A;     "directory": "public/bower_components"&#x000A;   }&#x000A; &lt;/pre&gt;&#x000A;</code></pre>
      
      <p>이런 식으로 말이다. 반대로, 하이라이팅을 원하지 않는다면, <code>class="no-highlight"</code>로 지정한다.</p>
      
      <p>마지막으로, 문법 하이라이팅을 적용한 코드와 그렇지 않은 코드를 대조해본다.</p>
      
      <h4>pre class=&ldquo;no-highlight&rdquo;</h4>
      
      <pre><code class="no-highlight">var express = require('express');&#x000A;var router = express.Router();&#x000A;&#x000A;/* GET home page. */&#x000A;router.get('/', function(req, res) {&#x000A;  res.render('index', { title: 'Express' });&#x000A;});&#x000A;&#x000A;module.exports = router;&#x000A;</code></pre>
      
      <h4>pre class=&ldquo;lang-js&rdquo;</h4>
      
      <pre><code class="js">var express = require('express');&#x000A;var router = express.Router();&#x000A;&#x000A;/* GET home page. */&#x000A;router.get('/', function(req, res) {&#x000A;  res.render('index', { title: 'Express' });&#x000A;});&#x000A;&#x000A;module.exports = router;&#x000A;</code></pre>
      
      <p>이상으로, <a href="http://highlightjs.org/">highlight.js</a>를 이용해서 문법 하이라이팅 기능을 적용해 보았다. 참고로, 이 개인 블로그도 오늘 highlight.js를 적용했다.</p>
      
      <p>오늘은 여기까지.</p>
      <div class='page-header'>
        <h4>
          30일 프로젝트 글 목록
        </h4>
      </div>
      <blockquote>
        <ul>
        <li><a href="/holiday-project-day-01/">(05/07) 프로젝트 1일: 웹 브라우저 JS 테스트 환경 - karma &amp; jasmine</a></li>
        <li><a href="/holiday-project-day-02/">(05/08) 프로젝트 2일: 서버 측 JS 테스트 환경 - jasmine-node</a></li>
        <li><a href="/holiday-project-day-03/">(05/09) 프로젝트 3일: express 테스트 환경 - supertest</a></li>
        <li><a href="/holiday-project-day-04/">(05/10) 프로젝트 4일: 웹 환경 패키지 매니저 - bower</a></li>
        <li><a href="/holiday-project-day-05/">(05/11) 프로젝트 5일: 문법 하이라이팅 - highlight.js</a></li>
        <li><a href="/holiday-project-day-06/">(05/12) 프로젝트 6일: 그래프 그리기 - graphviz &amp; D3.js</a></li>
        <li><a href="/holiday-project-day-07/">(05/13) 프로젝트 7일: graphviz 노드에 웹 링크 걸기</a></li>
        <li><a href="/holiday-project-day-08/">(05/14) 프로젝트 8일: D3.js 트랜지션(Transitions)</a></li>
        <li><a href="/holiday-project-day-09/">(05/15) 프로젝트 9일: Node.js로 Git저장소 다루기</a></li>
        <li><a href="/holiday-project-day-10/">(05/16) 프로젝트 10일: Async.js로 콜백 중첩을 풀기</a></li>
        <li><a href="/holiday-project-day-11/">(05/17) 프로젝트 11일: Git 커밋 그래프 그리기 도전</a></li>
        <li><a href="/holiday-project-day-12/">(05/18) 프로젝트 12일: 그래프 그리기 도전 #2</a></li>
        <li><a href="/holiday-project-day-13/">(05/19) 프로젝트 13일: 컨테이너 기반 가상화 프레임워크 - Docker</a></li>
        <li><a href="/holiday-project-day-14/">(05/20) 프로젝트 14일: Heroku에 Node.js 애플리케이션 배포</a></li>
        <li><a href="/holiday-project-day-15/">(05/21) 프로젝트 15일: AngularJS 코드스쿨 강좌 소개</a></li>
        <li><a href="/holiday-project-day-16/">(05/22) 프로젝트 16일: 중간 점검 - 왜 이 프로젝트를 하나?</a></li>
        <li><a href="/holiday-project-day-17/">(05/23) 프로젝트 17일: Travis CI - 지속적 통합 서비스</a></li>
        <li><a href="/holiday-project-day-18/">(05/24) 프로젝트 18일: Grunt - 자바스크립트 작업 실행기</a></li>
        <li><a href="/holiday-project-day-19/">(05/25) 프로젝트 19일: RequireJS - 비동기(async) JS 로더'</a></li>
        <li><a href="/holiday-project-day-20/">(05/26) 프로젝트 20일: 회사의 합병 소식</a></li>
        </ul>
      </blockquote>
    </div>
  </section>
  <div class='container'>
    <footer>
      <div class='pull-right'>
        &copy; 2012-2014
        <a href='https://twitter.com/hatemogi'>@hatemogi</a>
      </div>
    </footer>
  </div>
  <script src='/js/application.js' type='text/javascript'></script>
</body>
